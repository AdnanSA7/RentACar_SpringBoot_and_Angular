<div class="flex justify-between items-center mb-4">
    <h1 class="text-3xl font-semibold">Drivers</h1>
    <p-button (click)="showDialog()" label="Add Driver" icon="pi pi-plus" class="p-button-success"/>
  </div>

  <!-- Table of Cars -->
  <p-table [value]="drivers" [rows]="10" [paginator]="true" [rowsPerPageOptions]="[5,10,20]" class="mb-6">
    <ng-template pTemplate="header">
      <tr>
        <th>Id</th>
        <th>Name</th>
        <th>Number</th>
        <th>Nid Number</th>
        <th>Driving LicenseNum</th>
        <th>Car Id</th>
        <th>Image</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-driver>
      <tr>
        <td>{{ driver.id }}</td>
        <td>{{ driver.firstName }} {{ driver.lastName }}</td>
        <td>{{ driver.number }}</td>
        <td>{{ driver.nid_number }}</td>
        <td>{{ driver.drivingLicenseNum }}</td>
        <td>{{ driver.carId }}</td>

        <!-- Image with Hover Zoom Effect -->
        <td class="relative overflow-visible">
          <div class="group inline-block w-20 h-12 rounded-lg overflow-hidden">
            <img
              [src]="'data:image/jpeg;base64,' + driver.driverImage"
              alt="Driver Image"
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-150 group-hover:absolute group-hover:top-[-25%] group-hover:left-[-25%] group-hover:z-50"
            />
          </div>
        </td>
        <!-- <td>
          <span [ngClass]="{'text-green-500': car.status === 'Available', 'text-red-500': car.status === 'Rented'}">
            {{ car.status }}
          </span>
        </td> -->
        <td>
          <button pButton icon="pi pi-pencil" class="p-button-warning"></button>
          <button pButton icon="pi pi-trash" class="p-button-danger"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>


  <div class="card flex justify-center">
    <!--  <p-button (click)="showDialog()" label="Show" />-->
      <p-dialog
        [(visible)]="visible"
        [header]="'Add Car'"
        [modal]="true"
        [style]="{ width: '50rem' }"
        [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
        [maximizable]="true">
   
    <div class="container mt-16">
      <!-- <h1 class="text-center text-gray-700 text-2xl mb-4">Add Car</h1> -->
      <form class="max-w-md mx-auto">
        <div class="relative z-0 w-full mb-5 group">
          <input
            type="text"
            [(ngModel)]="driverData.firstName"
            name="firstName"
            id="floating_firstName"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            placeholder=" "
            required
          />
          <label
            for="floating_firstName"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >First Name</label
          >
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input
            type="text"
            [(ngModel)]="driverData.lastName"
            name="lastName"
            id="floating_lastName"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            placeholder=" "
            required
          />
          <label
            for="floating_lastName"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Last Name</label
          >
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input
            type="tel"
            [(ngModel)]="driverData.number"
            name="number"
            id="floating_number"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            placeholder=" "
            required
          />
          <label
            for="floating_number"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Number</label
          >
        </div>
        <div class="grid md:grid-cols-2 md:gap-6 ml-0 mr-0">
          <div class="relative z-0 w-full mb-5 group">
            <input
              type="text"
              [(ngModel)]="driverData.nidNumber"
              name="nidNumber"
              id="floating_nidNumber"
              class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
              placeholder=" "
              required
            />
            <label
              for="floating_nidNumber"
              class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
              >Nid Number</label
            >
          </div>
          <div class="relative z-0 w-full mb-5 group">
            <input
              type="text"
              [(ngModel)]="driverData.drivingLicenseNum"
              name="drivingLicenseNum"
              id="floating_drivingLicenseNum"
              class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
              placeholder=" "
              required
            />
            <label
              for="floating_drivingLicenseNum"
              class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
              >Driving LicenseNum</label
            >
          </div>
        </div>
        <div class="relative z-0 w-full mb-5 group">
          <input
            type="text"
            [(ngModel)]="driverData.carId"
            name="carId"
            id="floating_carId"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            placeholder=" "
            required
          />
          <label
            for="floating_carId"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Car Id</label
          >
        </div>
        
        <div class="relative z-0 w-full mb-5 group">
          <input
            type="file"
            name="image"
            id="floating_carImage"
            (change)="onFileSelected($event)"
            class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            placeholder=" "
            required
          />
          <label
            for="floating_carImage"
            class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"
            >Driver Image</label
          >
        </div>
        <div class="text-end">
          <button
            (click)="closeDialog()"
            type="button"
            class="text-white mr-3 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
          >
            Cancel
          </button>
          <button
            (click)="submitDriver()"
            type="button"
            class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
          >
            Submit
          </button>
        </div>
      </form>
    </div>
      </p-dialog>
    </div>
